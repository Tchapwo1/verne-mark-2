<!doctype html>
<html lang="en" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#2563eb">

  <title>
    {% if title %}{{ title }} â€” Verne Daily{% else %}Verne Daily{% endif %}
  </title>

  <link rel="canonical" href="https://vernedaily.com{{ page.url }}" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://vernedaily.com{{ page.url }}" />
  <meta property="og:title" content="{{ title or 'Verne Daily' }}" />
  <meta property="og:description" content="{{ description or 'Daily analysis, weekly intelligence, and evergreen lessons for the modern technologist.' }}" />
  <meta property="og:image" content="https://v1.screenshot.11ty.dev/{{ 'https://vernedaily.com' | urlencoded }}{{ page.url | urlencoded }}/opengraph/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ title or 'Verne Daily' }}" />
  <meta name="twitter:description" content="{{ description or 'Daily analysis, weekly intelligence, and evergreen lessons for the modern technologist.' }}" />

  <!-- Analytics (Plausible/Fathom Placeholder) -->
  <!-- <script defer data-domain="vernedaily.com" src="https://plausible.io/js/script.js"></script> -->

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  
  <!-- Prism Syntax Highlighting (Tomorrow Night for Dark Mode compat) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
  
  <!-- KaTeX CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css">

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            serif: ['Playfair Display', 'serif'],
          }
        }
      }
    }
  </script>
  
  <style>
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Playfair Display', serif;
    }
  </style>

  <script>
    // Check for saved theme preference or system preference
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }

    function toggleTheme() {
      if (document.documentElement.classList.contains('dark')) {
        document.documentElement.classList.remove('dark')
        localStorage.theme = 'light'
      } else {
        document.documentElement.classList.add('dark')
        localStorage.theme = 'dark'
      }
    }
  </script>
</head>

<body class="bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-100 font-sans transition-colors duration-200">
  <nav class="border-b border-gray-100 dark:border-slate-800">
    <div class="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between">
      <a href="/" class="font-bold text-xl tracking-tight text-slate-900 dark:text-white">Verne Daily</a>
      <div class="flex items-center gap-6 text-sm font-medium text-slate-600 dark:text-slate-400">
        <a href="/daily/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Daily</a>
        <a href="/weekly/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Weekly</a>
        <a href="/learn/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Library</a>
        
        <!-- Search Icon -->
        <button data-open-search class="text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors focus:outline-none" aria-label="Search">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
        </button>

        <!-- Theme Toggle -->
        <button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors focus:outline-none" aria-label="Toggle Dark Mode">
          <!-- Sun Icon -->
          <svg class="w-5 h-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
          <!-- Moon Icon -->
          <svg class="w-5 h-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <main class="max-w-5xl mx-auto px-6 py-24">
    {{ content | safe }}
  </main>

  <footer class="bg-slate-50 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 mt-12 transition-colors duration-200">
    <div class="max-w-5xl mx-auto px-6 py-16">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
        <div class="md:col-span-2">
          <a href="/" class="font-bold text-2xl tracking-tight text-slate-900 dark:text-white mb-4 block font-serif">Verne Daily</a>
          <p class="text-slate-600 dark:text-slate-400 max-w-sm mb-6">
            Decoding the future of artificial intelligence for engineers, leaders, and curious minds. Built for clarity in a noisy world.
          </p>
          <div class="flex gap-4">
            <a href="#" class="text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
              <span class="sr-only">Twitter</span>
              <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" /></svg>
            </a>
            <a href="#" class="text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
              <span class="sr-only">LinkedIn</span>
              <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd" /></svg>
            </a>
          </div>
        </div>
        <div>
          <h3 class="font-bold text-slate-900 dark:text-white mb-4 uppercase tracking-wider text-sm">Sections</h3>
          <ul class="space-y-3 text-slate-500 dark:text-slate-400">
            <li><a href="/daily/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Daily Analysis</a></li>
            <li><a href="/weekly/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Weekly Intel</a></li>
            <li><a href="/learn/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">The Library</a></li>
            <li><a href="/feed.xml" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">RSS Feed</a></li>
          </ul>
        </div>
        <div>
          <h3 class="font-bold text-slate-900 dark:text-white mb-4 uppercase tracking-wider text-sm">Legal</h3>
          <ul class="space-y-3 text-slate-500 dark:text-slate-400">
            <li><a href="/about/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">About</a></li>
            <li><a href="/about/#privacy-policy" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Privacy Policy</a></li>
            <li><a href="/about/#terms-of-service" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Terms of Service</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-slate-200 dark:border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-slate-400 dark:text-slate-500">
        <p>&copy; 2026 Verne Daily. All rights reserved.</p>
        <p>Designed with intelligence.</p>
      </div>
    </div>
  </footer>
  <style>
    /* 2. "Highlighter" Selection State */
    ::selection {
      background-color: #facc15; /* Cyber Yellow */
      color: #000000;
      text-shadow: none;
    }
    .dark ::selection {
      background-color: #facc15;
      color: #000000;
    }

    /* 6. Gradient Text for H1 (Cinematic Depth) */
    .dark h1 {
      background: linear-gradient(to bottom, #ffffff 0%, #cbd5e1 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      /* Fallback */
      text-shadow: 0 2px 10px rgba(255,255,255,0.1);
    }
    
    /* 7. Ambient Glows */
    .glow-blue { box-shadow: 0 0 20px -5px rgba(37, 99, 235, 0.4); }
    .dark .glow-blue { box-shadow: 0 0 25px -5px rgba(59, 130, 246, 0.3); }

    /* 3. Phantom Borders */
    .phantom-border { border-color: rgba(0,0,0,0.05) !important; }
    .dark .phantom-border { border-color: rgba(255,255,255,0.08) !important; }
    
    /* 5. Signal Orange */
    .btn-action { background-color: #f97316 !important; color: white !important; }
    .btn-action:hover { background-color: #ea580c !important; }
    
    /* 7. View Transitions */
    @view-transition { navigation: auto; }

    /* 4. Drop Caps */
    .prose-lg > p:first-of-type::first-letter {
      float: left;
      font-size: 3.5em;
      line-height: 0.8;
      margin-right: 0.15em;
      margin-bottom: -0.1em;
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      color: #2563eb; /* Blue-600 */
    }
    .dark .prose-lg > p:first-of-type::first-letter {
      color: #60a5fa; /* Blue-400 */
    }

    /* 2. Code Window Chrome */
    pre[class*="language-"] {
      position: relative;
      padding-top: 2.5rem !important;
      border-radius: 0.75rem !important;
      background: #1e293b !important; /* Slate-800 parent background */
    }
    pre[class*="language-"]::before {
      content: " ";
      position: absolute;
      top: 12px;
      left: 16px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #ef4444; /* Red */
      box-shadow: 20px 0 0 #f59e0b, 40px 0 0 #22c55e; /* Yellow, Green */
    }
    pre[class*="language-"]::after {
      content: attr(class);
      position: absolute;
      top: 8px;
      right: 16px;
      font-size: 0.65rem;
      font-weight: 700;
      text-transform: uppercase;
      color: #64748b;
      letter-spacing: 0.05em;
    }

    /* 3. Callout Blocks */
    .note, .warning, .tech {
      padding: 1.5rem;
      border-left-width: 4px;
      margin: 2rem 0;
      border-radius: 0.5rem;
    }
    .note {
      background-color: #eff6ff;
      border-color: #3b82f6;
      color: #1e3a8a;
    }
    .dark .note { background-color: #172554; border-color: #3b82f6; color: #dbeafe; }
    
    .warning {
      background-color: #fff7ed;
      border-color: #f97316;
      color: #7c2d12;
    }
    .dark .warning { background-color: #431407; border-color: #f97316; color: #ffedd5; }

    .tech {
      background-color: #f8fafc;
      border-color: #64748b;
      color: #334155;
      font-family: monospace;
    }
    .dark .tech { background-color: #0f172a; border-color: #64748b; color: #cbd5e1; }

    /* 2. Animated Skeleton Loading */
    .skeleton-loader {
      background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }
    .dark .skeleton-loader {
      background: linear-gradient(90deg, #1e293b 25%, #334155 50%, #1e293b 75%);
    }
    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    /* 8. Print Styles */
    @media print {
      nav, footer, aside, .no-print, #scroll-progress, .fixed {
        display: none !important;
      }
      body {
        background: white !important;
        color: black !important;
      }
      article {
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
      }
      a {
        text-decoration: none !important;
        color: black !important;
      }
      /* Expand links for print */
      .prose a[href^="http"]::after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        color: #666;
      }
      h1 { font-size: 24pt !important; }
      p { font-size: 11pt !important; line-height: 1.5; }
    }

    /* 7. 404 Glitch Effect */
    .glitch {
      position: relative;
    }
    .glitch::before, .glitch::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .glitch::before {
      left: 2px;
      text-shadow: -1px 0 #ef4444;
      clip: rect(44px, 450px, 56px, 0);
      animation: glitch-anim-1 5s infinite linear alternate-reverse;
    }
    .glitch::after {
      left: -2px;
      text-shadow: -1px 0 #2563eb;
      clip: rect(44px, 450px, 56px, 0);
      animation: glitch-anim-2 5s infinite linear alternate-reverse;
    }
    @keyframes glitch-anim-1 {
      0% { clip: rect(30px, 9999px, 10px, 0); }
      20% { clip: rect(80px, 9999px, 90px, 0); }
      40% { clip: rect(10px, 9999px, 60px, 0); }
      60% { clip: rect(60px, 9999px, 20px, 0); }
      80% { clip: rect(40px, 9999px, 80px, 0); }
      100% { clip: rect(90px, 9999px, 30px, 0); }
    }
    @keyframes glitch-anim-2 {
      0% { clip: rect(10px, 9999px, 50px, 0); }
      20% { clip: rect(70px, 9999px, 20px, 0); }
      40% { clip: rect(20px, 9999px, 80px, 0); }
      60% { clip: rect(80px, 9999px, 10px, 0); }
      80% { clip: rect(50px, 9999px, 60px, 0); }
      100% { clip: rect(30px, 9999px, 90px, 0); }
    }
    
    /* 5. Tooltip Card */
    .link-tooltip {
      position: absolute;
      z-index: 50;
      width: 300px;
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 0.5rem;
      padding: 1rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .dark .link-tooltip {
      background: #1e293b;
      border-color: #334155;
    }

    /* 2. "Highlighter" Selection State */
    ::selection {
      background-color: #facc15; /* Cyber Yellow */
      color: #000000;
      text-shadow: none;
    }
    .dark ::selection {
      background-color: #facc15;
      color: #000000;
    }

    /* 6. Gradient Text for H1 (Cinematic Depth) */
    .dark h1 {
      background: linear-gradient(to bottom, #ffffff 0%, #cbd5e1 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      /* Fallback */
      text-shadow: 0 2px 10px rgba(255,255,255,0.1);
    }

    /* 1. Paper Whites for Reading (Learn/Longform) */
    /* Target via class or attribute if possible, else global override for prose areas */
    .prose {
      /* Handled via utility classes in layout but defining selection here ensures contrast */
    }

    /* 5. Signal Orange (Utilities) */
    .btn-action {
      background-color: #f97316; /* Orange-500 */
      color: white;
    }
    .btn-action:hover {
        background-color: #ea580c; /* Orange-600 */
    }
    
    /* 7. Ambient Glows */
    .glow-blue {
        box-shadow: 0 0 20px -5px rgba(37, 99, 235, 0.4); /* Blue-600 with lower alpha */
    }
    .dark .glow-blue {
        box-shadow: 0 0 25px -5px rgba(59, 130, 246, 0.3); /* Blue-500 */
    }

    /* 3. Phantom Borders (Override existing tailwind borders globally) */
    /* Note: Tailwind utility classes usually take precedence. We will use a strategy 
       of redefining the border color vars where possible or relying on opacity utilities.
       This block defines a utility class 'phantom-border' to be applied manually or generally. */
    .phantom-border {
        border-color: rgba(0,0,0,0.05) !important;
    }
    .dark .phantom-border {
        border-color: rgba(255,255,255,0.08) !important;
    }

    /* 9. Interactive Sidenotes */
    .sidenote-ref {
      color: #2563eb;
      font-weight: bold;
      cursor: pointer;
      vertical-align: super;
      font-size: 0.75em;
      margin-left: 0.1em;
      user-select: none;
    }
    .dark .sidenote-ref { color: #60a5fa; }

    /* Default (Mobile): Sidenotes start hidden, appear inline when checked */
    .sidenote-content {
      display: none;
      margin-top: 1rem;
      margin-bottom: 1rem;
      padding: 1rem;
      background-color: #f8fafc;
      border-left: 3px solid #64748b;
      font-size: 0.9em;
      color: #334155;
      font-family: sans-serif;
    }
    .dark .sidenote-content {
      background-color: #1e293b;
      color: #94a3b8;
    }

    /* Checkbox Hack for Mobile Toggle */
    .sidenote-toggle:checked + .sidenote-content {
      display: block;
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

    /* Desktop (lg+): Sidenotes move to the right rail */
    @media (min-width: 1024px) {
      /* Hide the ref label's default interaction if we want hover? Keep it simple for now. */
      
      /* The Wrapper must NOT break the flow of the paragraph too much, 
         but we need to break out of the column.
         This is tricky with CSS Grid/Prose.
         
         STRATEGY: Use absolute positioning relative to the ARTICLE container? No.
         STRATEGY: Use interactions.js to physically move the nodes to the aside.
         
         We will keep them hidden in CSS here, and let JS enact the move.
       */
       .sidenote-content {
         /* Keep using the mobile style as fallback until JS moves it */
       }
       
       /* Style for when it is moved to the aside */
       .sidenote-docked {
          display: block !important;
          margin-bottom: 2rem;
          font-size: 0.85rem;
          line-height: 1.5;
          color: #64748b;
          border-left: none;
          padding: 0;
          background: transparent;
          /* Align with the reference line (handled by JS top positioning) */
          position: absolute;
          width: 100%;
          transition: opacity 0.3s, top 0.3s;
       }
       .dark .sidenote-docked { color: #94a3b8; background: transparent; }
       
       .sidenote-marker { font-weight: bold; color: #2563eb; margin-right: 0.5em; }
       .dark .sidenote-marker { color: #60a5fa; }
       
       .sidenote-active {
          color: #0f172a;
          background: rgba(37, 99, 235, 0.05);
          padding: 1rem;
          border-radius: 0.5rem;
          border: 1px solid rgba(37, 99, 235, 0.2);
       }
       .dark .sidenote-active {
          color: white;
          background: rgba(37, 99, 235, 0.1);
       }
    }

    /* 4. Obsidian Dark Mode (Base override) */
    /* This will be applied to the body class via JS or inline style if tailwind config allows. */
  </style>
  
  <script>
    // 4. Obsidian Dark Mode Enforcement
    // 1. Paper Whites Logic check
    document.addEventListener('DOMContentLoaded', () => {
        // Apply Obsidian bg in dark mode
        const isDark = document.documentElement.classList.contains('dark');
        if (isDark) {
            document.body.style.backgroundColor = '#0b0c10'; // Rich Dark
        }

        // Apply phantom borders to common elements
        document.querySelectorAll('.border-gray-100, .border-slate-800, .border-gray-200').forEach(el => {
           el.classList.add('phantom-border');
           el.classList.remove('border-gray-100', 'border-slate-800', 'border-gray-200');
        });
        
        // 5. Signal Orange on Subscribe Buttons
        document.querySelectorAll('a[href="#newsletter"], button[type="submit"]').forEach(btn => {
            if(btn.innerText.toLowerCase().includes('subscribe')) {
                btn.classList.add('btn-action'); // Orange
                btn.classList.remove('bg-slate-900', 'dark:bg-white', 'bg-blue-600');
            }
        });
    });
  </script>

  <!-- 1. Medium Zoom -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js"></script>
  
  <script src="/pagefind/pagefind-ui.js"></script>
  <script src="/assets/js/interactions.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 1. Zoom Logic for Article Images
      if (typeof mediumZoom === 'function') {
        mediumZoom('article img', {
            margin: 24,
            background: 'rgba(15, 23, 42, 0.95)',
            scrollOffset: 0,
        });
      }

      // 2. Command Palette Logic
      const dialog = document.getElementById('search-modal');
      const openBtn = document.querySelectorAll('[data-open-search]');
      
      const toggleModal = (open) => {
        if (open) {
          dialog.showModal(); 
          // Re-init pagefind if needed or focus input
          setTimeout(() => document.querySelector('.pagefind-ui__search-input')?.focus(), 100);
        } else {
          dialog.close();
        }
      };

      openBtn.forEach(btn => btn.addEventListener('click', (e) => {
          e.preventDefault();
          toggleModal(true);
      }));

      // Cmd+K Shortcut
      document.addEventListener('keydown', (e) => {
        if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
          e.preventDefault();
          toggleModal(!dialog.open);
        }
        if (e.key === 'Escape' && dialog.open) {
          toggleModal(false);
        }
      });

      dialog.addEventListener('click', (e) => {
        if (e.target === dialog) toggleModal(false);
      });
      
      // 3. Pagefind Init
      if (typeof PagefindUI !== 'undefined') {
         new PagefindUI({ 
            element: "#modal-search", 
            showSubResults: true, 
            showImages: false,
            translations: { placeholder: "Search the archive..." }
          });
      }
    });
  </script>

  <!-- 1. Scroll-to-Top FAB -->
  <button id="scroll-top-fab" class="opacity-0 translate-y-10 pointer-events-none fixed bottom-20 right-6 p-3 rounded-full bg-blue-600 text-white shadow-lg z-40 transition-all duration-300 hover:bg-blue-700" aria-label="Scroll to top">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>
  </button>

  <!-- 5. Sticky Mobile Action Dock -->
  <div class="fixed bottom-0 left-0 right-0 bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-t border-gray-200 dark:border-slate-800 p-4 lg:hidden z-50 flex justify-around items-center safe-area-pb">
    <a href="/" class="text-slate-500 dark:text-slate-400 hover:text-blue-600">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
    </a>
    <button data-open-search class="text-slate-500 dark:text-slate-400 hover:text-blue-600">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
    </button>
    <a href="#newsletter" class="text-blue-600 dark:text-blue-400 font-bold text-sm bg-blue-50 dark:bg-blue-900/30 px-3 py-1 rounded-full">
      Subscribe
    </a>
  </div>

  <!-- Command Palette Modal -->
  <dialog id="search-modal" class="p-0 rounded-xl w-full max-w-2xl bg-white dark:bg-slate-900 shadow-2xl backdrop:bg-slate-900/50">
    <div class="p-6">
      <div id="modal-search"></div>
    </div>
    <div class="bg-gray-50 dark:bg-slate-800 px-6 py-3 text-xs text-slate-500 dark:text-slate-400 border-t border-gray-100 dark:border-slate-700 flex justify-between">
      <span>Search articles, tags, and guidance...</span>
      <span><kbd class="font-sans border rounded px-1">Esc</kbd> to close</span>
    </div>
  </dialog>
  

</body>
</html>
